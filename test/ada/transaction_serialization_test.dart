import 'package:blockchain_utils/blockchain_utils.dart';
import 'package:on_chain/ada/ada.dart';
import 'package:test/test.dart';

void main() {
  _transactionSerialization();
}

void _transactionSerialization() {
  test('transaction_1', () {
    final input = TransactionInput(
        transactionId: TransactionHash(List<int>.filled(32, 0)), index: 0);
    final multiSig = ADABaseAddress(
        'addr_test1qq4p27385p3pl25rs39xj7e50na5pkkn59q0x3qtuj9nsdyput3kqejrzx0lt0p49mwq76x8wjm8y7erh0rg0q36cr0sjqt5x4');
    final output = TransactionOutput(
        serializationConfig: TransactionOutputSerializationConfig(
            encoding: TransactionOutputCborEncoding.shellyEra),
        address: multiSig,
        amount: Value(coin: BigInt.from(999000)));

    final ttl = BigInt.from(1000);
    final fee = BigInt.from(1000);
    final List<NativeScript> pubkeyNativeScripts = [
      NativeScriptScriptPubkey.fromPubKey(BytesUtils.fromHexString(
          '0071325e6664401e5fffcbce46bd522822e6aa485145b78a6fe556de6b5ec03ec5')),
    ];
    final List<NativeScript> onOfNativeScripts = [
      NativeScriptScriptNOfK(n: 1, nativeScripts: pubkeyNativeScripts)
    ];
    final auxiliaryData = AuxiliaryData(nativeScripts: onOfNativeScripts);
    final transaction = TransactionBody(
        inputs: TransactionInputs([input],
            serializationConfig: TransactionInputSerializationConfig(
                encoding: CborIterableEncodingType.definite)),
        outputs: TransactionOutputs([output],
            serializationConfig: TransactionOutputsSerializationConfig(
                encoding: CborIterableEncodingType.definite)),
        fee: fee,
        ttl: ttl,
        auxiliaryDataHash: auxiliaryData.toHash());

    final edSigner = AdaPrivateKey.fromHex(
        'c660e50315d76a53d80732efda7630cae8885dfb85c46378684b3c6103e1284a');
    final sig = edSigner.sign(transaction.toHash().data);
    final witness = TransactionWitnessSet(
        vKeys: VkeyWitnesses([
      Vkeywitness(
          vKey: Vkey(edSigner.publicKey().toBytes(false)),
          signature: Ed25519Signature(sig)),
    ]));
    final tr =
        ADATransaction(body: transaction, witnessSet: witness, isValid: true);

    final decode = ADATransaction.fromCborBytes(tr.serialize());
    expect(decode.serializeHex(), tr.serializeHex());
  });
  test('transaction_3', () {
    final data = BytesUtils.fromHexString(
        '84a90081825820a9749210735ee53c2cbc760782f0525e192b6cd85c73985f312149a77338ac90000d81825820a9749210735ee53c2cbc760782f0525e192b6cd85c73985f312149a77338ac90000184a200583900eecfbd1c74e54e424bd4d7acaab787ff694e809c4fa1ba055e6141d4d4a1f673aeeab514b8eef648b53aa824ef8186432081289027dfa510011b0000000253c1e964a300581d70d85fa9bc2bdfd97d5ebdbc5e3fc66f7476213c40c21b73b41257f09d011a001e848002820058201153a21aec68afdfa836d10252c06f2ce9daf7420417a465ffd169c0fef8fee8a200583900fb522f89882341bf02f50a57dacce3d5fa613feca2b69ebfcf661a78d4a1f673aeeab514b8eef648b53aa824ef8186432081289027dfa51001821a0012050ca1581c909ae307c83f5e40054dd6d584bdedbced62dcffcc789d7fd81fded1a14c4164612070726f766964657201a200583900fb522f89882341bf02f50a57dacce3d5fa613feca2b69ebfcf661a78d4a1f673aeeab514b8eef648b53aa824ef8186432081289027dfa51001821a0012378ea1581c909ae307c83f5e40054dd6d584bdedbced62dcffcc789d7fd81fded1a14f446f6c6c61722070726f76696465720110a200583900eecfbd1c74e54e424bd4d7acaab787ff694e809c4fa1ba055e6141d4d4a1f673aeeab514b8eef648b53aa824ef8186432081289027dfa510011b0000000254010dbd111a000ad643021a0007398209a1581c909ae307c83f5e40054dd6d584bdedbced62dcffcc789d7fd81fded1a24c4164612070726f7669646572014f446f6c6c61722070726f7669646572010b5820028b9e9685238ede3d6e725673dfa4e7887ae3349f865d27f544581e4e3da83d07582072b98f15f569507b7ebad16e3c546f0c116b3507368547ed9db5a793aedf1596a30681590ddd590dda01000033323233223232323232332232323232323232323322323232323232323233322232323232323232322223223232325335001102813263202d33573892010350543500028323232533500313300b49010b4275726e206661696c656400323235004223335530101200132335012223335003220020020013500122001123300101b02e2350012222533530080032103210323500222222222222200a3200135503322533500115021221350022253353301700200713502600113006003300f0021335502c300b49010b4d696e74206661696c656400330163232323500322222222222233355301b120013233501d2233350032200200200135001220011233001225335002103b100103825335333573466e3c03cd400488d4008880080e40e04ccd5cd19b8700e35001223500222001039038103800c3500b220013500a22002500133010335502c33555017237246ecccdd2a400066ae80dd398170009bb102f3355501725335333355300d1200133500e22230033002001200122533500121350032235003223500222350295335333573466e3c0080180cc0c84cd540eccd540ec008cdc0000802801899aa81d80499a81c80200189a81119aa81a001281999919191919191919118011803800990009aa81d11299a800898011801a81d110a99a800880111098031803802990009aa81c91299a8008a81c910a99a800880191099a81e198038020011803000990009aa81c111299a8010800910a99a8018802110a999a99806002001099a81e00219803801802899a81e00119803803000899a81e002198038018029a8019110009a8011110011a80091100199918008009119091a990919980091a801911180180211a801911180100211a8019111800802091a98018021a8020008009801001091111998021299a80089a80a89119801281c800910a99a80089a80b89119801002800910a999a998050020010999803001119a81d80280080089998038011a80c891198010030008008999803001119a81d802800800911299a800899a81c19a81c0018011803281c910a999a99805002801099a81d19a81d0028021804001899980380119a81d002802000899a81d19a81d002802180400191119299a80109800a4c442a666a6601600c004266600e0044600c66a07800e002002260069309998038011180319a81e003800800919a81c98019a80c0911980100300098038011919111a801111a80191912999a999a80d8048028018999a80d8040020008a8010a8010999a80c80380180099999999a80a11199ab9a3370e00400205a05844a66a666ae68cdc3801000816816080c8a99a999ab9a3371200400205a058202e203044666ae68cdc400100081681611199ab9a3371200400205a05844666ae68cdc480100081601691199ab9a3371000400205805a44a66a666ae68cdc48010008168160800880111299a999ab9a3371200400205a0582004200266666666a02602244a66a666ae68cdc7801000816015880c0a99a999ab9a33722004002058056202c202e44666ae68cdc800100081601591199ab9a3372200400205805644666ae68cdc880100081581611199ab9a3372000400205605844a66a666ae68cdc88010008160158800880111299a999ab9a3372200400205805620042002002a03e426a0024466a0660040022a062400266aa05866aaa02e644a66a002420022004a06066aaa02e646446004002640026aa06644a66a0022a0424426a00444a66a6602e00400e26a04c0022600c006601e00466aaa02e400246a002444444444444010a00201426a002440046666ae68cdc39aab9d5003480008cc8848cc00400c008c8c8c8c8c8c8c8c8c8c8c8c8c8cccd5cd19b8735573aa018900011999999999999111111111110919999999999980080680600580500480400380300280200180119a8128131aba1500c33502502635742a01666a04a04e6ae854028ccd540a5d728141aba150093335502975ca0506ae854020cd40940c0d5d0a803999aa814818bad35742a00c6464646666ae68cdc39aab9d5002480008cc8848cc00400c008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a81dbad35742a00460786ae84d5d1280111931902219ab9c04003f042135573ca00226ea8004d5d0a8011919191999ab9a3370e6aae754009200023322123300100300233503b75a6ae854008c0f0d5d09aba2500223263204433573808007e08426aae7940044dd50009aba135744a004464c6408066ae700f00ec0f84d55cf280089baa00135742a00a66a04aeb8d5d0a802199aa81481690009aba150033335502975c40026ae854008c0bcd5d09aba2500223263203c33573807006e07426ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aab9e5001137540026ae85400cc07cd5d09aba2500323263202e3357380540520586666ae68cdc3a80224004424400446666ae68cdc3a802a40004244002464c6405c66ae700a80a40b00ac4d55cf280089baa001135573a6ea8004894cd400440804cd5ce00100f990009aa8131108911299a80089a80191000910999a802910011802001199aa98038900080280200089109198008018010919a800a811281191a800911999a80091931901219ab9c4901024c680001f20012326320243357389201024c680001f2326320243357389201024c680001f22333573466e3c00800406c06848d40048888888801c48888888848cccccccc00402402001c01801401000c008488800c48880084888004894cd400840044050444888c00cc00800448c88c008dd6000990009aa80d911999aab9f0012501c233501b30043574200460066ae880080548c8c8cccd5cd19b8735573aa004900011991091980080180118061aba150023005357426ae8940088c98c8068cd5ce00b00a80c09aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a9aba1500233500d014357426ae8940088c98c807ccd5ce00d80d00e89aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6404266ae7007407007c0780744d55cea80089baa00135742a00466a012eb8d5d09aba2500223263201b33573802e02c03226ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355018223233335573e0044a034466a03266aa036600c6aae754008c014d55cf280118021aba200301313574200224464646666ae68cdc3a800a400046a00e600a6ae84d55cf280191999ab9a3370ea00490011280391931900c19ab9c014013016015135573aa00226ea800448488c00800c44880048c8c8cccd5cd19b875001480188c848888c010014c01cd5d09aab9e500323333573466e1d400920042321222230020053009357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900b19ab9c012011014013012011135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011991091980080180118029aba15002375a6ae84d5d1280111931900919ab9c00e00d010135573ca00226ea80048c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8040cd5ce00600580709baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c8064cd5ce00a80a00b80b00a80a00980900889aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6402466ae7003803404003c4d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200f33573801601401a01826aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6402066ae7003002c0380340304d55cea80089baa0012323333573466e1d40052002200523333573466e1d40092000200523263200c33573801000e01401226aae74dd500089100109100089000a481035054310011223002001320013550052253350011376200644266ae80d400888cdd2a400066ae80dd480119aba037500026ec401cc01000526112200212212233001004003112212330010030021123230010012233003300200200148920accff338b53d84833cc95e53a921005858d0a499020a4d72058ccaaaccc67e92003351223300248920a9749210735ee53c2cbc760782f0525e192b6cd85c73985f312149a77338ac9000480008848cc00400c00880050481d8799fd8799f581c909ae307c83f5e40054dd6d584bdedbced62dcffcc789d7fd81fded1ffd8799fa1d8799fd8799fd87980d8799fd8799f581ceecfbd1c74e54e424bd4d7acaab787ff694e809c4fa1ba055e6141d4ffd8799fd8799fd8799f581cd4a1f673aeeab514b8eef648b53aa824ef8186432081289027dfa510ffffffffffd8799f4040ffff1a001e8480a0a000ffd87c9f9fd8799fd8799fd87a9f4c4164612070726f7669646572ffd87a9f4c4164612070726f7669646572ffd8799f4040ffd87e9fd87a9f1a000f4240ffd87a9f00ffffffd87c9f9fd8799fd8799fd87a9f4f446f6c6c61722070726f7669646572ffd87a9f4f446f6c6c61722070726f7669646572ffd8799f581c7ac8989ef4d5f77fbbc0e783a789a21061bf9e78b1e2ab4996f9e47b434d5254ffd87a9f00ffffd87a9fd87a9f4c4164612070726f7669646572ffd87a9fd87a9f4f446f6c6c61722070726f7669646572ffffd8799f4040ffd87e9fd87a9f1a000f4240ffd87a9f00ffffd87a9fd87a9f4f446f6c6c61722070726f7669646572ffd87a9fd87a9f4c4164612070726f7669646572ffffd8799f581c7ac8989ef4d5f77fbbc0e783a789a21061bf9e78b1e2ab4996f9e47b434d5254ffd87a9f00ffd87980ffffffff1b0000018e319fbbc4d87980ffffff1b0000018e31844484d87980ffff0581840100d87980821a001126881a151cfd85f5d90103a100a119061c820282826872756e2d6c69746581608182784072756e2d6c6974652d616464725f7465737431717268766c306775776e6a3575736a74366e743665323468736c6c6b6a6e35716e333836727773397465733572783534783535386d38387468326b353274336d686b667a366e343270796137716376736571737935667166376c353567716e3975363533');
    final tr = ADATransaction.fromCborBytes(data);
    expect(tr.serialize(), data);
  });

  test('transaction_4', () {
    final data = BytesUtils.fromHexString(
        '84a90081825820000000000000000000000000000000000000000000000000000000000000000000018182583900c05e80bdcf267e7fe7bf4a867afe54a65a3605b32aae830ed07f8e1ccc339a35f9e0fe039cf510c761d4dd29040c48e9657fdac7e9c01d941a00433af3021a00091053031903e8048582008200581ccc339a35f9e0fe039cf510c761d4dd29040c48e9657fdac7e9c01d9483028201581ca24e48f1c8558d0e494285be2c749b95ce3fcce58d6f3a2854313068581ccc339a35f9e0fe039cf510c761d4dd29040c48e9657fdac7e9c01d9483028201581c9d8e04ea22deb1084f47d5343ac9b68045efe68ebca5a5db5b3288df581ccc339a35f9e0fe039cf510c761d4dd29040c48e9657fdac7e9c01d9483028200581ccc339a35f9e0fe039cf510c761d4dd29040c48e9657fdac7e9c01d94581ccc339a35f9e0fe039cf510c761d4dd29040c48e9657fdac7e9c01d9482018201581c03efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16405a3581de0409b662f7dd26ba2783e7b3cdad5d5a0db4cbb298159efa1eb2ff0a001581df0e38b62daf74261838cb710cd38fd231f5c20266298717a0f08fde80802581df003efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee164030b58200487ecbf31c4267e9ee01bda989fb0b0e07b134e77b80107df7c11610c3b77510d818258200101010101010101010101010101010101010101010101010101010101010101001282825820020202020202020202020202020202020202020202020202020202020202020200825820010101010101010101010101010101010101010101010101010101010101010100a20383582001efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16401020304582002efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16401020304582003efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee164010203040585840201d87980820101840202d87980820202840204d87980820202840301d87980820404840302d87980820505f5f6');
    final tr = ADATransaction.fromCborBytes(data);
    final fromJson = ADATransaction.fromJson(tr.toJson());
    expect(tr.serialize(), data);
    expect(fromJson.serialize(), data);
  });

  test('transaction_5', () {
    final data = BytesUtils.fromHexString(
        '84a500828258203b40265111d8bb3c3c608d95b3a0bf83461ace32d79336579a1939b3aad1c0b7018258203b40265111d8bb3c3c608d95b3a0bf83461ace32d79336579a1939b3aad1c0b7020182825839007749cb68126abf295466a51abbf179923e244b8c9605b4498e665edc3b9dd7b24c3d81307483d4131fcec8fa60a03f2228382840a3944b961a004c4b40825839007749cb68126abf295466a51abbf179923e244b8c9605b4498e665edc3b9dd7b24c3d81307483d4131fcec8fa60a03f2228382840a3944b961a0b989c9d021a0006da230b5820c968830ea6bcd0ddba019dcfae31f5e4befa33a4250b4dd56b9a69a40dc0d45e0d818258203b40265111d8bb3c3c608d95b3a0bf83461ace32d79336579a1939b3aad1c0b703a303815907d2010000332323232323232323232323232323322323232323222232325335332201b3333573466e1cd55ce9baa0044800080608c98c8060cd5ce00c80c00b1999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a02a02c6ae854030cd4054058d5d0a80599a80a80b9aba1500a3335501975ca0306ae854024ccd54065d7280c1aba1500833501502035742a00e666aa032042eb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a056eb4d5d0a80118161aba135744a004464c6405c66ae700bc0b80b04d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40add69aba15002302c357426ae8940088c98c80b8cd5ce01781701609aab9e5001137540026ae84d5d1280111931901519ab9c02b02a028135573ca00226ea8004d5d0a80299a80abae35742a008666aa03203a40026ae85400cccd54065d710009aba15002301f357426ae8940088c98c8098cd5ce01381301209aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba15002300f357426ae8940088c98c8060cd5ce00c80c00b080b89931900b99ab9c4910350543500017135573ca00226ea800448c88c008dd6000990009aa80a911999aab9f0012500a233500930043574200460066ae880080508c8c8cccd5cd19b8735573aa004900011991091980080180118061aba150023005357426ae8940088c98c8050cd5ce00a80a00909aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a9aba1500233500f014357426ae8940088c98c8064cd5ce00d00c80b89aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6403666ae7007006c06406005c4d55cea80089baa00135742a00466a016eb8d5d09aba2500223263201533573802c02a02626ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355012223233335573e0044a010466a00e66442466002006004600c6aae754008c014d55cf280118021aba200301213574200222440042442446600200800624464646666ae68cdc3a800a40004642446004006600a6ae84d55cf280191999ab9a3370ea0049001109100091931900819ab9c01101000e00d135573aa00226ea80048c8c8cccd5cd19b875001480188c848888c010014c01cd5d09aab9e500323333573466e1d400920042321222230020053009357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900819ab9c01101000e00d00c00b135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011991091980080180118029aba15002375a6ae84d5d1280111931900619ab9c00d00c00a135573ca00226ea80048c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8028cd5ce00580500409baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c804ccd5ce00a00980880800780700680600589aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6401866ae700340300280244d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200933573801401200e00c26aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6401466ae7002c02802001c0184d55cea80089baa0012323333573466e1d40052002200723333573466e1d40092000212200123263200633573800e00c00800626aae74dd5000a4c24002920103505431001220021123230010012233003300200200133351222335122335004335500248811c2b194b7d10a3d2d3152c5f3a628ff50cb9fc11e59453e8ac7a1aea4500488104544e4654005005112212330010030021120011122002122122330010040031200101049f58200befb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16401020304ff0582840000d87980821a000fea341a1a96f311840001d87980821a000fea341a1a96f311f5f6');
    final tr = ADATransaction.fromCborBytes(data);
    expect(tr.serialize(), data);
    final fromJson = ADATransaction.fromJson(tr.toJson());
    expect(fromJson.serialize(), data);
  });

  test('transaction_6', () {
    final data = BytesUtils.fromHexString(
        '84a500828258203b40265111d8bb3c3c608d95b3a0bf83461ace32d79336579a1939b3aad1c0b7018258203b40265111d8bb3c3c608d95b3a0bf83461ace32d79336579a1939b3aad1c0b7020181825839007749cb68126abf295466a51abbf179923e244b8c9605b4498e665edc3b9dd7b24c3d81307483d4131fcec8fa60a03f2228382840a3944b961a0be4f309021a0006cef70b5820c968830ea6bcd0ddba019dcfae31f5e4befa33a4250b4dd56b9a69a40dc0d45e0d818258203b40265111d8bb3c3c608d95b3a0bf83461ace32d79336579a1939b3aad1c0b703a303815907d2010000332323232323232323232323232323322323232323222232325335332201b3333573466e1cd55ce9baa0044800080608c98c8060cd5ce00c80c00b1999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a02a02c6ae854030cd4054058d5d0a80599a80a80b9aba1500a3335501975ca0306ae854024ccd54065d7280c1aba1500833501502035742a00e666aa032042eb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a056eb4d5d0a80118161aba135744a004464c6405c66ae700bc0b80b04d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40add69aba15002302c357426ae8940088c98c80b8cd5ce01781701609aab9e5001137540026ae84d5d1280111931901519ab9c02b02a028135573ca00226ea8004d5d0a80299a80abae35742a008666aa03203a40026ae85400cccd54065d710009aba15002301f357426ae8940088c98c8098cd5ce01381301209aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba15002300f357426ae8940088c98c8060cd5ce00c80c00b080b89931900b99ab9c4910350543500017135573ca00226ea800448c88c008dd6000990009aa80a911999aab9f0012500a233500930043574200460066ae880080508c8c8cccd5cd19b8735573aa004900011991091980080180118061aba150023005357426ae8940088c98c8050cd5ce00a80a00909aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a9aba1500233500f014357426ae8940088c98c8064cd5ce00d00c80b89aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6403666ae7007006c06406005c4d55cea80089baa00135742a00466a016eb8d5d09aba2500223263201533573802c02a02626ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355012223233335573e0044a010466a00e66442466002006004600c6aae754008c014d55cf280118021aba200301213574200222440042442446600200800624464646666ae68cdc3a800a40004642446004006600a6ae84d55cf280191999ab9a3370ea0049001109100091931900819ab9c01101000e00d135573aa00226ea80048c8c8cccd5cd19b875001480188c848888c010014c01cd5d09aab9e500323333573466e1d400920042321222230020053009357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900819ab9c01101000e00d00c00b135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011991091980080180118029aba15002375a6ae84d5d1280111931900619ab9c00d00c00a135573ca00226ea80048c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8028cd5ce00580500409baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c804ccd5ce00a00980880800780700680600589aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6401866ae700340300280244d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200933573801401200e00c26aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6401466ae7002c02802001c0184d55cea80089baa0012323333573466e1d40052002200723333573466e1d40092000212200123263200633573800e00c00800626aae74dd5000a4c24002920103505431001220021123230010012233003300200200133351222335122335004335500248811c2b194b7d10a3d2d3152c5f3a628ff50cb9fc11e59453e8ac7a1aea4500488104544e4654005005112212330010030021120011122002122122330010040031200101049f58200befb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16401020304ff0582840000d87980821a000fea341a1a96f311840001d87980821a000fea341a1a96f311f5f6');
    final tr = ADATransaction.fromCborBytes(data);
    expect(tr.serialize(), data);
    final fromJson = ADATransaction.fromJson(tr.toJson());
    expect(fromJson.serialize(), data);
  });

  test('transaction_8', () {
    final data = BytesUtils.fromHexString(
        '84a70081825820f58a5bc761b1efdcf4b5684f6ad5495854a0d64b866e2f0f525d134750d3511b010181825839007749cb68126abf295466a51abbf179923e244b8c9605b4498e665edc3b9dd7b24c3d81307483d4131fcec8fa60a03f2228382840a3944b96821b00000017486e49b3a2581c669fde3dd8395fb5ec314526126266fae4a42b16f1ec3a4ff07d43a3a144544e46541864581c8628d6d37eb1616de11787353ab2960a307a5ce57115ba5e320a817ea144544e46541864021a00089e4d09a2581c669fde3dd8395fb5ec314526126266fae4a42b16f1ec3a4ff07d43a3a144544e46541864581c8628d6d37eb1616de11787353ab2960a307a5ce57115ba5e320a817ea144544e465418640b5820db418f8d9577afe4b1df24d1a91e03d6324038ad37c4410c526dba18cabfcfa50d8182582069b0b867056a2d4fdc3827e23aa7069b125935e2def774941ca8cc7f9e0de774011281825820f58a5bc7adaadadcf4b5684f6ad5495854a0d64b866e2f0f525d134750d3511b02a203815907d2010000332323232323232323232323232323322323232323222232325335332201b3333573466e1cd55ce9baa0044800080608c98c8060cd5ce00c80c00b1999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a02a02c6ae854030cd4054058d5d0a80599a80a80b9aba1500a3335501975ca0306ae854024ccd54065d7280c1aba1500833501502035742a00e666aa032042eb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a056eb4d5d0a80118161aba135744a004464c6405c66ae700bc0b80b04d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40add69aba15002302c357426ae8940088c98c80b8cd5ce01781701609aab9e5001137540026ae84d5d1280111931901519ab9c02b02a028135573ca00226ea8004d5d0a80299a80abae35742a008666aa03203a40026ae85400cccd54065d710009aba15002301f357426ae8940088c98c8098cd5ce01381301209aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba15002300f357426ae8940088c98c8060cd5ce00c80c00b080b89931900b99ab9c4910350543500017135573ca00226ea800448c88c008dd6000990009aa80a911999aab9f0012500a233500930043574200460066ae880080508c8c8cccd5cd19b8735573aa004900011991091980080180118061aba150023005357426ae8940088c98c8050cd5ce00a80a00909aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a9aba1500233500f014357426ae8940088c98c8064cd5ce00d00c80b89aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6403666ae7007006c06406005c4d55cea80089baa00135742a00466a016eb8d5d09aba2500223263201533573802c02a02626ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355012223233335573e0044a010466a00e66442466002006004600c6aae754008c014d55cf280118021aba200301213574200222440042442446600200800624464646666ae68cdc3a800a40004642446004006600a6ae84d55cf280191999ab9a3370ea0049001109100091931900819ab9c01101000e00d135573aa00226ea80048c8c8cccd5cd19b875001480188c848888c010014c01cd5d09aab9e500323333573466e1d400920042321222230020053009357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900819ab9c01101000e00d00c00b135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011991091980080180118029aba15002375a6ae84d5d1280111931900619ab9c00d00c00a135573ca00226ea80048c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8028cd5ce00580500409baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c804ccd5ce00a00980880800780700680600589aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6401866ae700340300280244d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200933573801401200e00c26aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6401466ae7002c02802001c0184d55cea80089baa0012323333573466e1d40052002200723333573466e1d40092000212200123263200633573800e00c00800626aae74dd5000a4c24002920103505431001220021123230010012233003300200200133351222335122335004335500248811c2b194b7d10a3d2d3152c5f3a628ff50cb9fc11e59453e8ac7a1aea4500488104544e46540050051122123300100300211200111220021221223300100400312001010582840100d87980821a002cb28c1a1a984d58840100d87980821a000fea341a1a96f311f5f6');
    final tr = ADATransaction.fromCborBytes(data);
    expect(tr.serialize(), data);
    final fromJson = ADATransaction.fromJson(tr.toJson());
    expect(fromJson.serialize(), data);
  });
  test('transaction_9', () {
    final data = BytesUtils.fromHexString(
        '84a60081825820f58a5bc761b1efdcf4b5684f6ad5495854a0d64b866e2f0f525d134750d3511b010181825839007749cb68126abf295466a51abbf179923e244b8c9605b4498e665edc3b9dd7b24c3d81307483d4131fcec8fa60a03f2228382840a3944b96821b000000174871721ea1581c8628d6d37eb1616de11787353ab2960a307a5ce57115ba5e320a817ea144544e46541864021a000575e209a1581c8628d6d37eb1616de11787353ab2960a307a5ce57115ba5e320a817ea144544e465418640b58200d8b61133426f0ba2be6a4329fac6b97c627d4aca29fda9f0ade1114b8ecf38f0d8182582069b0b867056a2d4fdc3827e23aa7069b125935e2def774941ca8cc7f9e0de77401a203815907d2010000332323232323232323232323232323322323232323222232325335332201b3333573466e1cd55ce9baa0044800080608c98c8060cd5ce00c80c00b1999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a02a02c6ae854030cd4054058d5d0a80599a80a80b9aba1500a3335501975ca0306ae854024ccd54065d7280c1aba1500833501502035742a00e666aa032042eb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a056eb4d5d0a80118161aba135744a004464c6405c66ae700bc0b80b04d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40add69aba15002302c357426ae8940088c98c80b8cd5ce01781701609aab9e5001137540026ae84d5d1280111931901519ab9c02b02a028135573ca00226ea8004d5d0a80299a80abae35742a008666aa03203a40026ae85400cccd54065d710009aba15002301f357426ae8940088c98c8098cd5ce01381301209aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba15002300f357426ae8940088c98c8060cd5ce00c80c00b080b89931900b99ab9c4910350543500017135573ca00226ea800448c88c008dd6000990009aa80a911999aab9f0012500a233500930043574200460066ae880080508c8c8cccd5cd19b8735573aa004900011991091980080180118061aba150023005357426ae8940088c98c8050cd5ce00a80a00909aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a9aba1500233500f014357426ae8940088c98c8064cd5ce00d00c80b89aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6403666ae7007006c06406005c4d55cea80089baa00135742a00466a016eb8d5d09aba2500223263201533573802c02a02626ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355012223233335573e0044a010466a00e66442466002006004600c6aae754008c014d55cf280118021aba200301213574200222440042442446600200800624464646666ae68cdc3a800a40004642446004006600a6ae84d55cf280191999ab9a3370ea0049001109100091931900819ab9c01101000e00d135573aa00226ea80048c8c8cccd5cd19b875001480188c848888c010014c01cd5d09aab9e500323333573466e1d400920042321222230020053009357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900819ab9c01101000e00d00c00b135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011991091980080180118029aba15002375a6ae84d5d1280111931900619ab9c00d00c00a135573ca00226ea80048c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8028cd5ce00580500409baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c804ccd5ce00a00980880800780700680600589aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6401866ae700340300280244d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200933573801401200e00c26aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6401466ae7002c02802001c0184d55cea80089baa0012323333573466e1d40052002200723333573466e1d40092000212200123263200633573800e00c00800626aae74dd5000a4c24002920103505431001220021123230010012233003300200200133351222335122335004335500248811c2b194b7d10a3d2d3152c5f3a628ff50cb9fc11e59453e8ac7a1aea4500488104544e46540050051122123300100300211200111220021221223300100400312001010581840100d87980821a000fea341a1a96f311f5f6');
    final tr = ADATransaction.fromCborBytes(data);
    expect(tr.serialize(), data);
    final fromJson = ADATransaction.fromJson(tr.toJson());
    expect(fromJson.serialize(), data);
  });
  test('transaction_10', () {
    final data = BytesUtils.fromHexString(
        'a30083825820006697ef0c9285b7001ebe5a9e356fb50441e0af803773a99b7cbb0e9b7285700182582096631bf40bc2ae1e10b3c9157a4c711562c664b9744ed1f580b725e0589efcd001825820c15c423d624b3af3f032c079a1b390c472b8ba889b48dd581d0ea28f96a3687500018183581d705858df65800cfe8fc1419df2ca7132f5f76cc622bc26962a87c4c45c821a01312d00a2581c07e8df329b724e4be48ee32738125c06000de5448aaf93ed46d59e28a14844696e6f436f696e1903e8581cee8e37676f6ebb8e031dff493f88ff711d24aa68666a09d61f1d3fb3a25243727970746f44696e6f2d312d3030303030015243727970746f44696e6f2d312d3030303032015820979f68de9e070e75779f80ce5e6cc74f8d77661d65f2895c01d0a6f66eceb791021a0007a120');
    final tr = TransactionBody.fromCborBytes(data);
    expect(tr.serialize(), data);
    final fromJson = TransactionBody.fromJson(tr.toJson());
    expect(fromJson.serialize(), data);
  });
  test('transaction_11', () {
    final data = BytesUtils.fromHexString(
        '84a50081825820000000000000000000000000000000000000000000000000000000000000000000018002182a0b5820887e1b6416d750d871c0f5b7136b54f7b8e8b0e293379d090f38f8f821d08a290d81825820000000000000000000000000000000000000000000000000000000000000000000a30381582000efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16401020304049f182aff0581840000182a821906a41a00059de4f5f6');
    //'84a50081825820000000000000000000000000000000000000000000000000000000000000000000018002182a0b5820887e1b6416d750d871c0f5b7136b54f7b8e8b0e293379d090f38f8f821d08a290d81825820000000000000000000000000000000000000000000000000000000000000000000a30381582000efb5788e8713c844dfd32b2e91de1e309fefffd555f827cc9ee16401020304049f182aff05a182000082182a821906a41a00059de4f5f6
    final tr = ADATransaction.fromCborBytes(data);
    expect(tr.serialize(), data);
    final fromJson = ADATransaction.fromJson(tr.toJson());
    expect(tr.toJson(), fromJson.toJson());
    expect(fromJson.serialize(), data);
  });
}
